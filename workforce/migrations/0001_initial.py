# Generated by Django 5.2.7 on 2025-12-17 04:40

import django.core.validators
import django.db.models.deletion
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Country',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(help_text='ISO 3166-1 alpha-2', max_length=2, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('phone_code', models.CharField(max_length=10)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name_plural': 'Countries',
                'db_table': 'hr_country',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='EducationLevel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(max_length=20, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('sort_order', models.PositiveIntegerField(default=0)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'db_table': 'hr_education_level',
                'ordering': ['sort_order'],
            },
        ),
        migrations.CreateModel(
            name='AppraisalCycle',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('cycle_type', models.CharField(choices=[('annual', 'Annual Review'), ('mid_year', 'Mid-Year Review'), ('quarterly', 'Quarterly Review'), ('probation', 'Probation Review')], max_length=20)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('self_appraisal_deadline', models.DateField()),
                ('supervisor_appraisal_deadline', models.DateField()),
                ('final_review_deadline', models.DateField()),
                ('status', models.CharField(choices=[('planned', 'Planned'), ('active', 'Active'), ('in_review', 'In Review'), ('completed', 'Completed'), ('closed', 'Closed')], default='planned', max_length=20)),
                ('applies_to_categories', models.JSONField(help_text='List of employee categories: teaching, non_teaching')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_appraisal_cycle',
                'ordering': ['-start_date'],
            },
        ),
        migrations.CreateModel(
            name='AttendancePolicy',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('employee_category', models.CharField(choices=[('teaching', 'Teaching Staff'), ('non_teaching', 'Non-Teaching Staff'), ('management', 'Management'), ('all', 'All Staff')], max_length=20)),
                ('work_days_per_week', models.PositiveIntegerField(default=5)),
                ('standard_hours_per_day', models.DecimalField(decimal_places=2, default=8, max_digits=4)),
                ('standard_hours_per_week', models.DecimalField(decimal_places=2, default=40, max_digits=5)),
                ('grace_period_minutes', models.PositiveIntegerField(default=15, help_text='Late arrival tolerance in minutes')),
                ('minimum_hours_for_full_day', models.DecimalField(decimal_places=2, default=7, max_digits=4)),
                ('half_day_threshold_hours', models.DecimalField(decimal_places=2, default=4, max_digits=4)),
                ('overtime_eligible', models.BooleanField(default=False)),
                ('overtime_calculation_method', models.CharField(choices=[('daily', 'Daily'), ('weekly', 'Weekly'), ('monthly', 'Monthly')], default='daily', max_length=10)),
                ('overtime_threshold_hours', models.DecimalField(decimal_places=2, default=8, max_digits=4)),
                ('weekend_work_multiplier', models.DecimalField(decimal_places=2, default=1.5, max_digits=3)),
                ('holiday_work_multiplier', models.DecimalField(decimal_places=2, default=2.0, max_digits=3)),
                ('night_shift_multiplier', models.DecimalField(decimal_places=2, default=1.5, max_digits=3)),
                ('requires_biometric', models.BooleanField(default=False)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name_plural': 'Attendance Policies',
                'db_table': 'hr_attendance_policy',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Campus',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(max_length=20, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('location', models.CharField(max_length=255)),
                ('cost_center_code', models.CharField(blank=True, max_length=50)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name_plural': 'Campuses',
                'db_table': 'hr_campus',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='BiometricDevice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('device_id', models.CharField(max_length=100, unique=True)),
                ('device_name', models.CharField(max_length=200)),
                ('location', models.CharField(max_length=255)),
                ('device_type', models.CharField(choices=[('fingerprint', 'Fingerprint'), ('face_recognition', 'Face Recognition'), ('card_reader', 'Card Reader'), ('mobile', 'Mobile App')], max_length=20)),
                ('is_active', models.BooleanField(default=True)),
                ('last_sync_time', models.DateTimeField(blank=True, null=True)),
                ('campus', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.campus')),
            ],
            options={
                'db_table': 'hr_biometric_device',
                'ordering': ['campus', 'location'],
            },
        ),
        migrations.CreateModel(
            name='County',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(max_length=20)),
                ('name', models.CharField(max_length=100)),
                ('is_active', models.BooleanField(default=True)),
                ('country', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='counties', to='workforce.country')),
            ],
            options={
                'verbose_name_plural': 'Counties',
                'db_table': 'hr_county',
                'ordering': ['country', 'name'],
                'unique_together': {('country', 'code')},
            },
        ),
        migrations.CreateModel(
            name='DeductionType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(max_length=50, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('category', models.CharField(choices=[('statutory', 'Statutory'), ('voluntary', 'Voluntary'), ('loan', 'Loan Repayment'), ('advance', 'Advance Recovery'), ('penalty', 'Penalty')], max_length=20)),
                ('is_mandatory', models.BooleanField(default=False)),
                ('gl_account_code', models.CharField(help_text='Liability account code', max_length=50)),
                ('description', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('sort_order', models.PositiveIntegerField(default=0)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'payroll_deduction_type',
                'ordering': ['sort_order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Department',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(max_length=20, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('department_type', models.CharField(choices=[('academic', 'Academic'), ('administrative', 'Administrative'), ('support', 'Support Services')], max_length=20)),
                ('cost_center_code', models.CharField(max_length=50)),
                ('is_active', models.BooleanField(default=True)),
                ('budget_allocation', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True)),
                ('establishment_date', models.DateField(blank=True, null=True)),
                ('campus', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.campus')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('parent_department', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='sub_departments', to='workforce.department')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_department',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='EarningType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(max_length=50, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('category', models.CharField(choices=[('basic', 'Basic Salary'), ('allowance', 'Allowance'), ('bonus', 'Bonus'), ('overtime', 'Overtime'), ('commission', 'Commission'), ('arrears', 'Arrears')], max_length=20)),
                ('is_taxable', models.BooleanField(default=True)),
                ('is_pensionable', models.BooleanField(default=False)),
                ('gl_account_code', models.CharField(help_text='General Ledger account code', max_length=50)),
                ('description', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('sort_order', models.PositiveIntegerField(default=0)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'payroll_earning_type',
                'ordering': ['sort_order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Employee',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('employee_no', models.CharField(db_index=True, max_length=20, unique=True)),
                ('first_name', models.CharField(max_length=100)),
                ('middle_name', models.CharField(blank=True, max_length=100)),
                ('last_name', models.CharField(max_length=100)),
                ('date_of_birth', models.DateField()),
                ('gender', models.CharField(choices=[('male', 'Male'), ('female', 'Female'), ('other', 'Other')], max_length=10)),
                ('national_id', models.CharField(max_length=50, unique=True)),
                ('passport_number', models.CharField(blank=True, max_length=50)),
                ('personal_email', models.EmailField(max_length=254)),
                ('official_email', models.EmailField(max_length=254)),
                ('phone_primary', models.CharField(max_length=20)),
                ('phone_secondary', models.CharField(blank=True, max_length=20)),
                ('employee_category', models.CharField(choices=[('teaching', 'Teaching Staff'), ('non_teaching', 'Non-Teaching Staff'), ('contract', 'Contract Staff'), ('casual', 'Casual Worker'), ('visiting', 'Visiting Faculty')], max_length=20)),
                ('payroll_type', models.CharField(choices=[('monthly', 'Monthly'), ('hourly', 'Hourly'), ('contract', 'Contract'), ('daily', 'Daily')], max_length=20)),
                ('employment_status', models.CharField(choices=[('active', 'Active'), ('probation', 'On Probation'), ('suspended', 'Suspended'), ('terminated', 'Terminated'), ('resigned', 'Resigned'), ('retired', 'Retired')], default='probation', max_length=20)),
                ('hire_date', models.DateField()),
                ('confirmation_date', models.DateField(blank=True, null=True)),
                ('termination_date', models.DateField(blank=True, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, to='workforce.department')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_employee',
                'ordering': ['employee_no'],
            },
        ),
        migrations.AddField(
            model_name='department',
            name='head_of_department',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='department_head', to='workforce.employee'),
        ),
        migrations.CreateModel(
            name='EmployeeAddress',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('address_type', models.CharField(choices=[('current', 'Current Address'), ('permanent', 'Permanent Address'), ('emergency', 'Emergency Contact Address'), ('postal', 'Postal Address')], max_length=20)),
                ('street_address', models.CharField(max_length=255)),
                ('building_name', models.CharField(blank=True, max_length=100)),
                ('postal_code', models.CharField(blank=True, max_length=20)),
                ('city', models.CharField(max_length=100)),
                ('landmark', models.CharField(blank=True, max_length=255)),
                ('latitude', models.DecimalField(blank=True, decimal_places=8, max_digits=10, null=True)),
                ('longitude', models.DecimalField(blank=True, decimal_places=8, max_digits=11, null=True)),
                ('is_primary', models.BooleanField(default=False)),
                ('is_verified', models.BooleanField(default=False)),
                ('verified_date', models.DateField(blank=True, null=True)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('country', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.country')),
                ('county', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.county')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='addresses', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('verified_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='verified_addresses', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name_plural': 'Employee Addresses',
                'db_table': 'hr_employee_address',
                'ordering': ['-is_primary', '-effective_from'],
            },
        ),
        migrations.CreateModel(
            name='EmergencyContact',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('contact_name', models.CharField(max_length=200)),
                ('relationship', models.CharField(max_length=50)),
                ('phone_primary', models.CharField(max_length=20)),
                ('phone_secondary', models.CharField(blank=True, max_length=20)),
                ('email', models.EmailField(blank=True, max_length=254)),
                ('is_primary', models.BooleanField(default=False)),
                ('can_make_medical_decisions', models.BooleanField(default=False)),
                ('notes', models.TextField(blank=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='emergency_contacts', to='workforce.employee')),
                ('address', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='emergency_contacts', to='workforce.employeeaddress')),
            ],
            options={
                'db_table': 'hr_emergency_contact',
                'ordering': ['-is_primary', 'contact_name'],
            },
        ),
        migrations.CreateModel(
            name='EmployeeAppraisal',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('appraisal_date', models.DateField(auto_now_add=True)),
                ('review_period_start', models.DateField()),
                ('review_period_end', models.DateField()),
                ('self_assessment_status', models.CharField(default='pending', max_length=20)),
                ('self_assessment_date', models.DateField(blank=True, null=True)),
                ('supervisor_assessment_status', models.CharField(default='pending', max_length=20)),
                ('supervisor_assessment_date', models.DateField(blank=True, null=True)),
                ('hod_review_status', models.CharField(default='pending', max_length=20)),
                ('hod_review_date', models.DateField(blank=True, null=True)),
                ('final_rating', models.CharField(blank=True, choices=[('outstanding', 'Outstanding'), ('exceeds_expectations', 'Exceeds Expectations'), ('meets_expectations', 'Meets Expectations'), ('needs_improvement', 'Needs Improvement'), ('unsatisfactory', 'Unsatisfactory')], max_length=20, null=True)),
                ('final_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('overall_comments', models.TextField(blank=True)),
                ('strengths', models.TextField(blank=True)),
                ('areas_for_improvement', models.TextField(blank=True)),
                ('development_plan', models.TextField(blank=True)),
                ('recommended_action', models.CharField(blank=True, choices=[('promotion', 'Promotion'), ('salary_increment', 'Salary Increment'), ('training', 'Training'), ('warning', 'Warning'), ('termination', 'Termination'), ('no_change', 'No Change')], max_length=20, null=True)),
                ('recommended_increment_percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('in_progress', 'In Progress'), ('completed', 'Completed'), ('disputed', 'Disputed'), ('closed', 'Closed')], default='draft', max_length=20)),
                ('disputed', models.BooleanField(default=False)),
                ('dispute_reason', models.TextField(blank=True)),
                ('dispute_resolution', models.TextField(blank=True)),
                ('approval_date', models.DateField(blank=True, null=True)),
                ('appraisal_cycle', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.appraisalcycle')),
                ('appraiser', models.ForeignKey(help_text='Direct supervisor', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='appraisals_as_appraiser', to='workforce.employee')),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_appraisals', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='appraisals', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_employee_appraisal',
                'ordering': ['-appraisal_date'],
            },
        ),
        migrations.CreateModel(
            name='DevelopmentPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('development_area', models.CharField(max_length=255)),
                ('recommended_training', models.TextField()),
                ('timeline', models.CharField(max_length=200)),
                ('budget_required', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('status', models.CharField(choices=[('planned', 'Planned'), ('in_progress', 'In Progress'), ('completed', 'Completed'), ('cancelled', 'Cancelled')], default='planned', max_length=20)),
                ('completion_date', models.DateField(blank=True, null=True)),
                ('impact_assessment', models.TextField(blank=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='development_plans', to='workforce.employee')),
                ('appraisal', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='workforce.employeeappraisal')),
            ],
            options={
                'db_table': 'hr_development_plan',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='EmployeeShiftAssignment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('assignment_date', models.DateField()),
                ('start_time', models.TimeField()),
                ('end_time', models.TimeField()),
                ('location', models.CharField(blank=True, help_text='Specific building/area', max_length=255)),
                ('status', models.CharField(choices=[('scheduled', 'Scheduled'), ('confirmed', 'Confirmed'), ('completed', 'Completed'), ('absent', 'Absent'), ('swapped', 'Swapped'), ('substituted', 'Substituted')], default='scheduled', max_length=20)),
                ('notes', models.TextField(blank=True)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_shifts', to=settings.AUTH_USER_MODEL)),
                ('campus', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.campus')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='shift_assignments', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_employee_shift_assignment',
                'ordering': ['assignment_date', 'start_time'],
            },
        ),
        migrations.CreateModel(
            name='Faculty',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(max_length=20, unique=True)),
                ('name', models.CharField(max_length=200)),
                ('cost_center_code', models.CharField(blank=True, max_length=50)),
                ('is_active', models.BooleanField(default=True)),
                ('campus', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.campus')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('dean', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='faculty_dean', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name_plural': 'Faculties',
                'db_table': 'hr_faculty',
                'ordering': ['name'],
            },
        ),
        migrations.AddField(
            model_name='department',
            name='faculty',
            field=models.ForeignKey(blank=True, help_text='For academic departments only', null=True, on_delete=django.db.models.deletion.SET_NULL, to='workforce.faculty'),
        ),
        migrations.CreateModel(
            name='JobGrade',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(max_length=20, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('category', models.CharField(choices=[('teaching', 'Teaching Staff'), ('non_teaching', 'Non-Teaching Staff'), ('management', 'Management'), ('executive', 'Executive')], max_length=20)),
                ('min_salary', models.DecimalField(decimal_places=2, max_digits=12)),
                ('max_salary', models.DecimalField(decimal_places=2, max_digits=12)),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('grade_level', models.PositiveIntegerField(help_text='Numerical level for comparisons')),
                ('requires_degree', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('minimum_education_level', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='workforce.educationlevel')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_job_grade',
                'ordering': ['grade_level'],
            },
        ),
        migrations.AddField(
            model_name='employee',
            name='job_grade',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.PROTECT, to='workforce.jobgrade'),
        ),
        migrations.CreateModel(
            name='JobTitle',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('title', models.CharField(max_length=200)),
                ('code', models.CharField(max_length=50, unique=True)),
                ('category', models.CharField(choices=[('teaching', 'Teaching Staff'), ('non_teaching', 'Non-Teaching Staff'), ('contract', 'Contract Staff')], max_length=20)),
                ('is_academic_rank', models.BooleanField(default=False, help_text='Is this an academic rank?')),
                ('academic_rank_level', models.PositiveIntegerField(blank=True, help_text='1=Lecturer, 2=Senior Lecturer, 3=Associate Prof, 4=Professor', null=True)),
                ('description', models.TextField(blank=True)),
                ('min_experience_years', models.PositiveIntegerField(default=0)),
                ('required_qualifications', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('job_grade', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.jobgrade')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_job_title',
                'ordering': ['title'],
            },
        ),
        migrations.CreateModel(
            name='JobDescription',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('version', models.CharField(max_length=20)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('summary', models.TextField()),
                ('key_responsibilities', models.JSONField(help_text='List of responsibilities')),
                ('required_skills', models.JSONField(help_text='List of required skills')),
                ('required_competencies', models.JSONField(help_text='List of competencies')),
                ('physical_requirements', models.TextField(blank=True)),
                ('working_conditions', models.TextField(blank=True)),
                ('travel_requirements', models.TextField(blank=True)),
                ('approved_date', models.DateField(blank=True, null=True)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_job_descriptions', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workforce.department')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('job_title', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='descriptions', to='workforce.jobtitle')),
            ],
            options={
                'db_table': 'hr_job_description',
                'ordering': ['-effective_from'],
            },
        ),
        migrations.CreateModel(
            name='EmployeeJobAssignment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('assignment_type', models.CharField(choices=[('permanent', 'Permanent'), ('acting', 'Acting'), ('temporary', 'Temporary'), ('secondment', 'Secondment')], max_length=20)),
                ('employment_type', models.CharField(choices=[('full_time', 'Full-Time'), ('part_time', 'Part-Time'), ('visiting', 'Visiting'), ('adjunct', 'Adjunct')], max_length=20)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('fte', models.DecimalField(decimal_places=2, default=Decimal('1.00'), help_text='Full-Time Equivalent (1.0 = 100%)', max_digits=3, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(1)])),
                ('teaching_load_percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('administrative_load_percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('research_load_percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('is_primary_assignment', models.BooleanField(default=True)),
                ('reason_for_change', models.TextField(blank=True)),
                ('approval_date', models.DateField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_assignments', to=settings.AUTH_USER_MODEL)),
                ('campus', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.campus')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.department')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='job_assignments', to='workforce.employee')),
                ('reports_to', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='subordinates', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('job_title', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.jobtitle')),
            ],
            options={
                'db_table': 'hr_employee_job_assignment',
                'ordering': ['-effective_from'],
            },
        ),
        migrations.CreateModel(
            name='LeaveApplication',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('application_date', models.DateField(auto_now_add=True)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('total_days', models.DecimalField(decimal_places=2, max_digits=5)),
                ('working_days', models.DecimalField(decimal_places=2, help_text='Excludes weekends/holidays', max_digits=5)),
                ('reason', models.TextField()),
                ('emergency_contact_during_leave', models.CharField(blank=True, max_length=200)),
                ('emergency_phone', models.CharField(blank=True, max_length=20)),
                ('return_date', models.DateField(help_text='Planned return date')),
                ('supporting_document_path', models.FileField(blank=True, upload_to='leave_documents/')),
                ('medical_certificate_path', models.FileField(blank=True, upload_to='leave_documents/medical/')),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('submitted', 'Submitted'), ('pending_approval', 'Pending Approval'), ('approved', 'Approved'), ('rejected', 'Rejected'), ('cancelled', 'Cancelled'), ('on_leave', 'On Leave'), ('completed', 'Completed')], default='draft', max_length=20)),
                ('submitted_date', models.DateTimeField(blank=True, null=True)),
                ('approved_date', models.DateTimeField(blank=True, null=True)),
                ('rejected_date', models.DateTimeField(blank=True, null=True)),
                ('rejection_reason', models.TextField(blank=True)),
                ('cancelled_date', models.DateTimeField(blank=True, null=True)),
                ('cancellation_reason', models.TextField(blank=True)),
                ('actual_return_date', models.DateField(blank=True, null=True)),
                ('remarks', models.TextField(blank=True)),
                ('acting_employee', models.ForeignKey(blank=True, help_text='Employee covering duties', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='acting_duties', to='workforce.employee')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('current_approver', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pending_leave_approvals', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='leave_applications', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_leave_application',
                'ordering': ['-application_date'],
            },
        ),
        migrations.CreateModel(
            name='LeaveApprovalWorkflow',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('approval_level', models.PositiveIntegerField()),
                ('approver_role', models.CharField(choices=[('supervisor', 'Direct Supervisor'), ('hod', 'Head of Department'), ('hr', 'HR Manager'), ('dean', 'Dean'), ('registrar', 'Registrar')], max_length=20)),
                ('approval_status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='pending', max_length=20)),
                ('approval_date', models.DateTimeField(blank=True, null=True)),
                ('comments', models.TextField(blank=True)),
                ('notification_sent', models.BooleanField(default=False)),
                ('approver', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('leave_application', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='approval_workflow', to='workforce.leaveapplication')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_leave_approval_workflow',
                'ordering': ['leave_application', 'approval_level'],
            },
        ),
        migrations.CreateModel(
            name='LeaveBlackoutPeriod',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('applies_to_category', models.CharField(choices=[('teaching', 'Teaching Staff'), ('non_teaching', 'Non-Teaching Staff'), ('all', 'All Staff')], max_length=20)),
                ('applies_to_departments', models.JSONField(blank=True, help_text='List of department IDs', null=True)),
                ('leave_types_restricted', models.JSONField(blank=True, help_text='List of leave type IDs', null=True)),
                ('exception_approval_required', models.BooleanField(default=True, help_text='Can exceptions be granted?')),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('exception_approver', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='blackout_exceptions', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_leave_blackout_period',
                'ordering': ['start_date'],
            },
        ),
        migrations.CreateModel(
            name='LeaveCalendar',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('date', models.DateField()),
                ('name', models.CharField(max_length=200)),
                ('holiday_type', models.CharField(choices=[('public', 'Public Holiday'), ('institutional', 'Institutional Holiday'), ('religious', 'Religious Holiday')], max_length=20)),
                ('is_working_day', models.BooleanField(default=False, help_text='Some institutions work on certain public holidays')),
                ('is_recurring', models.BooleanField(default=False, help_text='Recurs annually')),
                ('country', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.country')),
            ],
            options={
                'db_table': 'hr_leave_calendar',
                'ordering': ['date'],
            },
        ),
        migrations.CreateModel(
            name='LeaveType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(max_length=20, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True)),
                ('category', models.CharField(choices=[('paid', 'Paid Leave'), ('unpaid', 'Unpaid Leave'), ('half_paid', 'Half-Paid Leave')], max_length=20)),
                ('is_statutory', models.BooleanField(default=False, help_text='Required by law')),
                ('max_days_per_year', models.PositiveIntegerField()),
                ('gender_specific', models.CharField(choices=[('all', 'All Genders'), ('male', 'Male Only'), ('female', 'Female Only')], default='all', max_length=10)),
                ('requires_medical_certificate', models.BooleanField(default=False)),
                ('requires_supporting_document', models.BooleanField(default=False)),
                ('advance_notice_days', models.PositiveIntegerField(default=7, help_text='Minimum days notice required')),
                ('can_be_carried_forward', models.BooleanField(default=True)),
                ('max_carryforward_days', models.PositiveIntegerField(default=0, help_text='0 means no carryforward')),
                ('carryforward_expiry_months', models.PositiveIntegerField(default=3, help_text='Months before carried-forward leave expires')),
                ('can_be_encashed', models.BooleanField(default=False)),
                ('accrual_rate', models.DecimalField(decimal_places=2, help_text='Days per month (e.g., 1.75 for 21 days/year)', max_digits=5)),
                ('accrual_method', models.CharField(choices=[('monthly', 'Monthly Accrual'), ('yearly', 'Yearly Accrual'), ('on_anniversary', 'On Anniversary')], default='monthly', max_length=20)),
                ('affects_attendance', models.BooleanField(default=True)),
                ('affects_payroll', models.BooleanField(default=False, help_text='Does this leave type affect salary?')),
                ('is_active', models.BooleanField(default=True)),
                ('sort_order', models.PositiveIntegerField(default=0)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_leave_type',
                'ordering': ['sort_order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='LeavePolicyByCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('employee_category', models.CharField(choices=[('teaching', 'Teaching Staff'), ('non_teaching', 'Non-Teaching Staff'), ('contract', 'Contract Staff'), ('casual', 'Casual Worker')], max_length=20)),
                ('annual_entitlement_days', models.PositiveIntegerField()),
                ('accrual_starts_after_months', models.PositiveIntegerField(default=3, help_text='Probation period')),
                ('min_service_years_required', models.PositiveIntegerField(default=0)),
                ('max_consecutive_days', models.PositiveIntegerField(help_text='Maximum continuous leave days')),
                ('min_days_per_application', models.PositiveIntegerField(default=1)),
                ('blackout_period_applies', models.BooleanField(default=False, help_text='e.g., no leave during exams')),
                ('approval_workflow_id', models.PositiveIntegerField(blank=True, null=True)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('job_grade', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='workforce.jobgrade')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('leave_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='policies', to='workforce.leavetype')),
            ],
            options={
                'verbose_name_plural': 'Leave Policies by Category',
                'db_table': 'hr_leave_policy_by_category',
                'ordering': ['leave_type', 'employee_category'],
            },
        ),
        migrations.CreateModel(
            name='LeaveEncashment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('year', models.PositiveIntegerField()),
                ('days_encashed', models.DecimalField(decimal_places=2, max_digits=5)),
                ('rate_per_day', models.DecimalField(decimal_places=2, help_text='Based on daily salary', max_digits=10)),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=12)),
                ('request_date', models.DateField(auto_now_add=True)),
                ('approval_date', models.DateField(blank=True, null=True)),
                ('payroll_period_id', models.PositiveIntegerField(blank=True, help_text='Link to payroll period when processed', null=True)),
                ('payment_status', models.CharField(choices=[('pending', 'Pending Payment'), ('processed', 'Processed')], default='pending', max_length=20)),
                ('processed_date', models.DateField(blank=True, null=True)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_encashments', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='leave_encashments', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('leave_type', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.leavetype')),
            ],
            options={
                'db_table': 'hr_leave_encashment',
                'ordering': ['-request_date'],
            },
        ),
        migrations.AddField(
            model_name='leaveapplication',
            name='leave_type',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.leavetype'),
        ),
        migrations.CreateModel(
            name='EmployeeLeaveBalance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('year', models.PositiveIntegerField()),
                ('opening_balance', models.DecimalField(decimal_places=2, default=0, max_digits=6)),
                ('accrued_days', models.DecimalField(decimal_places=2, default=0, max_digits=6)),
                ('carried_forward_days', models.DecimalField(decimal_places=2, default=0, max_digits=6)),
                ('adjustment_days', models.DecimalField(decimal_places=2, default=0, help_text='Manual corrections', max_digits=6)),
                ('taken_days', models.DecimalField(decimal_places=2, default=0, max_digits=6)),
                ('pending_days', models.DecimalField(decimal_places=2, default=0, help_text='Approved but not yet taken', max_digits=6)),
                ('encashed_days', models.DecimalField(decimal_places=2, default=0, max_digits=6)),
                ('forfeited_days', models.DecimalField(decimal_places=2, default=0, max_digits=6)),
                ('closing_balance', models.DecimalField(decimal_places=2, default=0, max_digits=6)),
                ('last_accrual_date', models.DateField(blank=True, null=True)),
                ('next_accrual_date', models.DateField(blank=True, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='leave_balances', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('leave_type', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.leavetype')),
            ],
            options={
                'db_table': 'hr_employee_leave_balance',
                'ordering': ['-year', 'employee', 'leave_type'],
            },
        ),
        migrations.CreateModel(
            name='OvertimeRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('request_date', models.DateField(auto_now_add=True)),
                ('overtime_date', models.DateField()),
                ('start_time', models.TimeField()),
                ('end_time', models.TimeField()),
                ('estimated_hours', models.DecimalField(decimal_places=2, max_digits=4)),
                ('reason', models.TextField()),
                ('approval_status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='pending', max_length=20)),
                ('approval_notes', models.TextField(blank=True)),
                ('actual_hours', models.DecimalField(blank=True, decimal_places=2, help_text='Filled from attendance record', max_digits=4, null=True)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='overtime_requests_approved', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.department')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='overtime_requests', to='workforce.employee')),
                ('requested_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='overtime_requests_made', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_overtime_request',
                'ordering': ['-request_date'],
            },
        ),
        migrations.CreateModel(
            name='PayProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('code', models.CharField(max_length=50, unique=True)),
                ('employee_category', models.CharField(choices=[('teaching', 'Teaching Staff'), ('non_teaching', 'Non-Teaching Staff'), ('contract', 'Contract Staff'), ('casual', 'Casual Worker')], max_length=20)),
                ('basic_salary', models.DecimalField(decimal_places=2, max_digits=12)),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('pay_frequency', models.CharField(choices=[('monthly', 'Monthly'), ('bi_weekly', 'Bi-Weekly'), ('hourly', 'Hourly')], max_length=20)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('job_grade', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='pay_profiles', to='workforce.jobgrade')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'payroll_pay_profile',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='EmployeePayProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('basic_salary', models.DecimalField(decimal_places=2, help_text='Can override profile default', max_digits=12)),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('reason_for_change', models.TextField(blank=True, help_text='e.g., promotion, increment, adjustment')),
                ('approval_date', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_pay_profiles', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='pay_profiles', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('pay_profile', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.payprofile')),
            ],
            options={
                'db_table': 'payroll_employee_pay_profile',
                'ordering': ['-effective_from'],
            },
        ),
        migrations.CreateModel(
            name='PayProfileComponent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('amount', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('calculation_method', models.CharField(choices=[('fixed', 'Fixed Amount'), ('percentage_of_basic', 'Percentage of Basic'), ('percentage_of_gross', 'Percentage of Gross')], max_length=30)),
                ('percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('is_taxable', models.BooleanField(default=True)),
                ('is_pensionable', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('earning_type', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.earningtype')),
                ('pay_profile', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='components', to='workforce.payprofile')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'payroll_pay_profile_component',
            },
        ),
        migrations.CreateModel(
            name='PayrollCalculation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('basic_salary', models.DecimalField(decimal_places=2, max_digits=12)),
                ('total_earnings', models.DecimalField(decimal_places=2, max_digits=12)),
                ('total_allowances', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('total_overtime', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('total_bonuses', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('gross_pay', models.DecimalField(decimal_places=2, max_digits=12)),
                ('total_statutory_deductions', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('total_voluntary_deductions', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('total_loan_deductions', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('total_deductions', models.DecimalField(decimal_places=2, max_digits=12)),
                ('taxable_income', models.DecimalField(decimal_places=2, max_digits=12)),
                ('tax_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('pension_employee', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('pension_employer', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
                ('net_pay', models.DecimalField(decimal_places=2, max_digits=12)),
                ('employer_cost', models.DecimalField(decimal_places=2, help_text='Includes employer contributions', max_digits=12)),
                ('payment_method', models.CharField(choices=[('bank_transfer', 'Bank Transfer'), ('check', 'Check'), ('cash', 'Cash'), ('mobile_money', 'Mobile Money')], max_length=20)),
                ('bank_account_number', models.CharField(blank=True, max_length=50)),
                ('payment_status', models.CharField(choices=[('pending', 'Pending'), ('paid', 'Paid'), ('failed', 'Failed'), ('cancelled', 'Cancelled')], default='pending', max_length=20)),
                ('payment_date', models.DateField(blank=True, null=True)),
                ('payment_reference', models.CharField(blank=True, max_length=100)),
                ('notes', models.TextField(blank=True)),
                ('calculated_at', models.DateTimeField(auto_now_add=True)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='payroll_approved', to=settings.AUTH_USER_MODEL)),
                ('calculated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='payroll_calculated', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='payroll_calculations', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'payroll_calculation',
                'ordering': ['-calculated_at'],
            },
        ),
        migrations.CreateModel(
            name='PayrollCalculationDetail',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('item_type', models.CharField(choices=[('earning', 'Earning'), ('deduction', 'Deduction')], max_length=20)),
                ('description', models.CharField(max_length=255)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=12)),
                ('is_taxable', models.BooleanField(default=False)),
                ('is_pensionable', models.BooleanField(default=False)),
                ('units', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('rate', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('gl_account_code', models.CharField(max_length=50)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deduction_type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='workforce.deductiontype')),
                ('earning_type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='workforce.earningtype')),
                ('payroll_calculation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='details', to='workforce.payrollcalculation')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'payroll_calculation_detail',
                'ordering': ['item_type', 'description'],
            },
        ),
        migrations.CreateModel(
            name='PayrollPeriod',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('period_name', models.CharField(max_length=100)),
                ('period_type', models.CharField(choices=[('monthly', 'Monthly'), ('bi_weekly', 'Bi-Weekly'), ('weekly', 'Weekly')], max_length=20)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('payment_date', models.DateField()),
                ('status', models.CharField(choices=[('open', 'Open'), ('processing', 'Processing'), ('calculated', 'Calculated'), ('approved', 'Approved'), ('paid', 'Paid'), ('closed', 'Closed')], default='open', max_length=20)),
                ('total_gross_pay', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_deductions', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('total_net_pay', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('employee_count', models.PositiveIntegerField(default=0)),
                ('processing_started_at', models.DateTimeField(blank=True, null=True)),
                ('processing_completed_at', models.DateTimeField(blank=True, null=True)),
                ('approved_date', models.DateField(blank=True, null=True)),
                ('locked', models.BooleanField(default=False, help_text='Prevents any changes')),
                ('notes', models.TextField(blank=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_payroll_periods', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'payroll_period',
                'ordering': ['-start_date'],
            },
        ),
        migrations.AddField(
            model_name='payrollcalculation',
            name='payroll_period',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='calculations', to='workforce.payrollperiod'),
        ),
        migrations.CreateModel(
            name='PayrollAuditLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('action', models.CharField(choices=[('created', 'Created'), ('calculated', 'Calculated'), ('approved', 'Approved'), ('paid', 'Paid'), ('reversed', 'Reversed'), ('adjusted', 'Adjusted')], max_length=20)),
                ('old_values', models.JSONField(blank=True, null=True)),
                ('new_values', models.JSONField(blank=True, null=True)),
                ('reason', models.TextField(blank=True)),
                ('performed_at', models.DateTimeField(auto_now_add=True)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='payroll_audit_logs', to='workforce.employee')),
                ('performed_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('payroll_period', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='audit_logs', to='workforce.payrollperiod')),
            ],
            options={
                'db_table': 'payroll_audit_log',
                'ordering': ['-performed_at'],
            },
        ),
        migrations.CreateModel(
            name='EmployeeEarning',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=12)),
                ('calculation_basis', models.CharField(choices=[('fixed', 'Fixed Amount'), ('hours', 'Hours Worked'), ('rate', 'Rate  Units'), ('percentage', 'Percentage')], max_length=20)),
                ('units', models.DecimalField(blank=True, decimal_places=2, help_text='e.g., hours worked, days', max_digits=10, null=True)),
                ('rate', models.DecimalField(blank=True, decimal_places=2, help_text='e.g., hourly rate', max_digits=12, null=True)),
                ('is_recurring', models.BooleanField(default=False, help_text='Appears every payroll period')),
                ('is_one_time', models.BooleanField(default=False, help_text='Specific period only')),
                ('is_taxable', models.BooleanField(default=True)),
                ('is_pensionable', models.BooleanField(default=False)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('reason', models.TextField(blank=True)),
                ('approval_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('processed', 'Processed')], default='pending', max_length=20)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_earnings', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('earning_type', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.earningtype')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='earnings', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('payroll_period', models.ForeignKey(blank=True, help_text='Null for recurring earnings', null=True, on_delete=django.db.models.deletion.SET_NULL, to='workforce.payrollperiod')),
            ],
            options={
                'db_table': 'payroll_employee_earning',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='EmployeeDeduction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=12)),
                ('calculation_method', models.CharField(choices=[('fixed', 'Fixed Amount'), ('percentage_of_gross', 'Percentage of Gross'), ('percentage_of_basic', 'Percentage of Basic')], max_length=30)),
                ('percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('is_recurring', models.BooleanField(default=False)),
                ('is_one_time', models.BooleanField(default=False)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('max_deduction_amount', models.DecimalField(blank=True, decimal_places=2, help_text='Total loan amount', max_digits=12, null=True)),
                ('balance_remaining', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('reason', models.TextField(blank=True)),
                ('approval_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('processed', 'Processed')], default='pending', max_length=20)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_deductions', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deduction_type', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.deductiontype')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='deductions', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('payroll_period', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='workforce.payrollperiod')),
            ],
            options={
                'db_table': 'payroll_employee_deduction',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Payslip',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('payslip_number', models.CharField(max_length=100, unique=True)),
                ('generation_date', models.DateTimeField(auto_now_add=True)),
                ('pdf_path', models.FileField(blank=True, help_text='Generated PDF file', upload_to='payslips/%Y/%m/')),
                ('email_sent', models.BooleanField(default=False)),
                ('email_sent_date', models.DateTimeField(blank=True, null=True)),
                ('downloaded', models.BooleanField(default=False)),
                ('download_date', models.DateTimeField(blank=True, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='payslips', to='workforce.employee')),
                ('payroll_calculation', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='payslip', to='workforce.payrollcalculation')),
                ('payroll_period', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workforce.payrollperiod')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'payroll_payslip',
                'ordering': ['-generation_date'],
            },
        ),
        migrations.CreateModel(
            name='Peer360Feedback',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('feedback_type', models.CharField(choices=[('peer', 'Peer'), ('subordinate', 'Subordinate'), ('student', 'Student'), ('external', 'External')], max_length=20)),
                ('relationship_to_employee', models.CharField(max_length=100)),
                ('feedback_date', models.DateField(auto_now_add=True)),
                ('rating_scale_1_to_5', models.DecimalField(decimal_places=2, max_digits=3, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('strengths', models.TextField()),
                ('areas_for_improvement', models.TextField()),
                ('additional_comments', models.TextField(blank=True)),
                ('is_anonymous', models.BooleanField(default=True)),
                ('appraisal', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='peer_feedback', to='workforce.employeeappraisal')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('feedback_provider', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='feedback_provided', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_peer_360_feedback',
                'ordering': ['-feedback_date'],
            },
        ),
        migrations.CreateModel(
            name='PerformanceIndicatorTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=255)),
                ('appraisal_cycle_id', models.PositiveIntegerField(blank=True, null=True)),
                ('description', models.TextField(blank=True)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='workforce.department')),
                ('job_title', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='appraisal_templates', to='workforce.jobtitle')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_performance_indicator_template',
                'ordering': ['name'],
            },
        ),
        migrations.AddField(
            model_name='employeeappraisal',
            name='template',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.performanceindicatortemplate'),
        ),
        migrations.CreateModel(
            name='PerformanceMetric',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(max_length=50, unique=True)),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField()),
                ('metric_category', models.CharField(choices=[('teaching', 'Teaching'), ('research', 'Research'), ('administration', 'Administration'), ('service', 'Service'), ('behavioral', 'Behavioral')], max_length=20)),
                ('measurement_type', models.CharField(choices=[('quantitative', 'Quantitative'), ('qualitative', 'Qualitative'), ('rating_scale', 'Rating Scale')], max_length=20)),
                ('target_type', models.CharField(choices=[('individual', 'Individual'), ('departmental', 'Departmental'), ('institutional', 'Institutional')], max_length=20)),
                ('data_source', models.CharField(choices=[('manual', 'Manual Entry'), ('system_generated', 'System Generated'), ('peer_review', 'Peer Review')], max_length=20)),
                ('applies_to_category', models.CharField(choices=[('teaching', 'Teaching Staff'), ('non_teaching', 'Non-Teaching Staff'), ('all', 'All Staff')], max_length=20)),
                ('applies_to_job_grades', models.JSONField(blank=True, help_text='List of job grade IDs', null=True)),
                ('weight_percentage', models.DecimalField(decimal_places=2, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('measurement_frequency', models.CharField(max_length=20)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_performance_metric',
                'ordering': ['metric_category', 'name'],
            },
        ),
        migrations.CreateModel(
            name='AppraisalMetricScore',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('self_rating', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('self_comments', models.TextField(blank=True)),
                ('self_evidence', models.TextField(blank=True)),
                ('supervisor_rating', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('supervisor_comments', models.TextField(blank=True)),
                ('supervisor_evidence', models.TextField(blank=True)),
                ('agreed_rating', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('weight_percentage', models.DecimalField(decimal_places=2, max_digits=5)),
                ('weighted_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('target_value', models.CharField(blank=True, max_length=100)),
                ('actual_value', models.CharField(blank=True, max_length=100)),
                ('achievement_percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('appraisal', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='metric_scores', to='workforce.employeeappraisal')),
                ('metric', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.performancemetric')),
            ],
            options={
                'db_table': 'hr_appraisal_metric_score',
            },
        ),
        migrations.CreateModel(
            name='Publication',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('publication_type', models.CharField(choices=[('journal', 'Journal Article'), ('conference', 'Conference Paper'), ('book', 'Book'), ('chapter', 'Book Chapter'), ('patent', 'Patent')], max_length=20)),
                ('title', models.CharField(max_length=500)),
                ('co_authors', models.TextField(blank=True)),
                ('journal_name', models.CharField(blank=True, max_length=300)),
                ('conference_name', models.CharField(blank=True, max_length=300)),
                ('publication_date', models.DateField()),
                ('volume', models.CharField(blank=True, max_length=50)),
                ('issue', models.CharField(blank=True, max_length=50)),
                ('pages', models.CharField(blank=True, max_length=50)),
                ('doi', models.CharField(blank=True, max_length=200)),
                ('isbn', models.CharField(blank=True, max_length=50)),
                ('impact_factor', models.DecimalField(blank=True, decimal_places=3, max_digits=6, null=True)),
                ('is_peer_reviewed', models.BooleanField(default=False)),
                ('indexing', models.CharField(blank=True, choices=[('scopus', 'Scopus'), ('web_of_science', 'Web of Science'), ('other', 'Other')], max_length=20)),
                ('url', models.URLField(blank=True)),
                ('citation_count', models.PositiveIntegerField(default=0)),
                ('is_verified', models.BooleanField(default=False)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='publications', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('verified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_publication',
                'ordering': ['-publication_date'],
            },
        ),
        migrations.CreateModel(
            name='ReportingLine',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('reporting_type', models.CharField(choices=[('direct', 'Direct Report'), ('dotted_line', 'Dotted Line'), ('functional', 'Functional Report'), ('project', 'Project Report')], max_length=20)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('is_primary', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='reporting_lines', to='workforce.employee')),
                ('supervisor', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='supervised_employees', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_reporting_line',
                'ordering': ['-is_primary', '-effective_from'],
            },
        ),
        migrations.CreateModel(
            name='ResearchGrant',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('co_investigators', models.JSONField(blank=True, help_text='List of employee IDs', null=True)),
                ('grant_title', models.CharField(max_length=500)),
                ('funding_agency', models.CharField(max_length=300)),
                ('grant_amount', models.DecimalField(decimal_places=2, max_digits=15)),
                ('currency', models.CharField(default='USD', max_length=3)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('status', models.CharField(choices=[('applied', 'Applied'), ('awarded', 'Awarded'), ('ongoing', 'Ongoing'), ('completed', 'Completed'), ('terminated', 'Terminated')], max_length=20)),
                ('completion_percentage', models.PositiveIntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('publications_from_grant', models.PositiveIntegerField(default=0)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('principal_investigator', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='grants_as_pi', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_research_grant',
                'ordering': ['-start_date'],
            },
        ),
        migrations.CreateModel(
            name='ShiftAttendance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('check_in_time', models.TimeField(blank=True, null=True)),
                ('check_out_time', models.TimeField(blank=True, null=True)),
                ('actual_hours', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('regular_hours', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('overtime_hours', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('status', models.CharField(choices=[('completed', 'Completed'), ('incomplete', 'Incomplete'), ('absent', 'Absent'), ('partial', 'Partial')], max_length=20)),
                ('was_substituted', models.BooleanField(default=False)),
                ('verification_date', models.DateField(blank=True, null=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='shift_attendance', to='workforce.employee')),
                ('shift_assignment', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='attendance', to='workforce.employeeshiftassignment')),
                ('substitute_employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='shift_substitutions', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('verified_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='verified_shift_attendance', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_shift_attendance',
                'ordering': ['-shift_assignment__assignment_date'],
            },
        ),
        migrations.CreateModel(
            name='ShiftSchedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('shift_pattern', models.CharField(choices=[('fixed', 'Fixed Schedule'), ('rotating', 'Rotating Schedule'), ('flexible', 'Flexible Schedule')], max_length=20)),
                ('rotation_cycle_days', models.PositiveIntegerField(default=7, help_text='e.g., 7 for weekly rotation')),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.department')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_shift_schedule',
                'ordering': ['name'],
            },
        ),
        migrations.AddField(
            model_name='employeeshiftassignment',
            name='shift_schedule',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.shiftschedule'),
        ),
        migrations.CreateModel(
            name='ShiftSwapRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('reason', models.TextField()),
                ('request_date', models.DateField(auto_now_add=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('rejected', 'Rejected'), ('cancelled', 'Cancelled')], default='pending', max_length=20)),
                ('approval_date', models.DateField(blank=True, null=True)),
                ('rejection_reason', models.TextField(blank=True)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_shift_swaps', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('original_shift_assignment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='swap_requests_as_original', to='workforce.employeeshiftassignment')),
                ('requesting_employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='shift_swap_requests', to='workforce.employee')),
                ('swap_shift_assignment', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='swap_requests_as_swap', to='workforce.employeeshiftassignment')),
                ('target_employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='shift_swap_offers', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_shift_swap_request',
                'ordering': ['-request_date'],
            },
        ),
        migrations.CreateModel(
            name='ShiftType',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(max_length=20, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('shift_category', models.CharField(choices=[('teaching', 'Teaching'), ('non_teaching', 'Non-Teaching'), ('security', 'Security'), ('maintenance', 'Maintenance'), ('library', 'Library'), ('other', 'Other')], max_length=20)),
                ('start_time', models.TimeField()),
                ('end_time', models.TimeField()),
                ('duration_hours', models.DecimalField(decimal_places=2, max_digits=4)),
                ('is_overnight', models.BooleanField(default=False, help_text='Shift spans midnight')),
                ('break_duration_minutes', models.PositiveIntegerField(default=60)),
                ('shift_multiplier', models.DecimalField(decimal_places=2, default=1.0, help_text='Pay multiplier (e.g., 1.5 for night shifts)', max_digits=3)),
                ('color_code', models.CharField(blank=True, help_text='Hex color for calendar display', max_length=7)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_shift_type',
                'ordering': ['start_time'],
            },
        ),
        migrations.AddField(
            model_name='employeeshiftassignment',
            name='shift_type',
            field=models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.shifttype'),
        ),
        migrations.CreateModel(
            name='StudentFeedback',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('course_id', models.PositiveIntegerField()),
                ('academic_term_id', models.PositiveIntegerField()),
                ('feedback_date', models.DateField()),
                ('total_responses', models.PositiveIntegerField()),
                ('average_rating', models.DecimalField(decimal_places=2, max_digits=3)),
                ('teaching_effectiveness', models.DecimalField(decimal_places=2, max_digits=3)),
                ('course_content_quality', models.DecimalField(decimal_places=2, max_digits=3)),
                ('assessment_fairness', models.DecimalField(decimal_places=2, max_digits=3)),
                ('availability_for_consultation', models.DecimalField(decimal_places=2, max_digits=3)),
                ('overall_satisfaction', models.DecimalField(decimal_places=2, max_digits=3)),
                ('comments', models.TextField(blank=True, help_text='Aggregated, anonymized comments')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='student_feedback', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_student_feedback',
                'ordering': ['-feedback_date'],
            },
        ),
        migrations.CreateModel(
            name='SubCounty',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('code', models.CharField(max_length=20)),
                ('name', models.CharField(max_length=100)),
                ('county', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subcounties', to='workforce.county')),
            ],
            options={
                'verbose_name_plural': 'Sub-Counties',
                'db_table': 'hr_subcounty',
                'ordering': ['county', 'name'],
            },
        ),
        migrations.AddField(
            model_name='employeeaddress',
            name='subcounty',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='workforce.subcounty'),
        ),
        migrations.CreateModel(
            name='SuccessionPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('readiness_level', models.CharField(choices=[('ready_now', 'Ready Now'), ('1_year', '1 Year'), ('2_years', '2 Years'), ('3_plus_years', '3+ Years')], max_length=20)),
                ('development_plan', models.TextField()),
                ('assessment_date', models.DateField()),
                ('next_review_date', models.DateField()),
                ('assessed_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workforce.department')),
                ('position', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='succession_plans', to='workforce.jobtitle')),
                ('successor_employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='succession_opportunities', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_succession_plan',
                'ordering': ['position', 'readiness_level'],
            },
        ),
        migrations.CreateModel(
            name='TeachingLoadSummary',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('academic_term_id', models.PositiveIntegerField(help_text='Foreign key to Academic Term')),
                ('total_weekly_hours', models.DecimalField(decimal_places=2, max_digits=5)),
                ('lecture_hours', models.DecimalField(decimal_places=2, max_digits=5)),
                ('tutorial_hours', models.DecimalField(decimal_places=2, max_digits=5)),
                ('lab_hours', models.DecimalField(decimal_places=2, max_digits=5)),
                ('standard_load_hours', models.DecimalField(decimal_places=2, help_text='From policy', max_digits=5)),
                ('overload_hours', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('underload_hours', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('courses_count', models.PositiveIntegerField(default=0)),
                ('last_calculated', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='teaching_load_summaries', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_teaching_load_summary',
                'ordering': ['-academic_term_id', 'employee'],
            },
        ),
        migrations.CreateModel(
            name='TeachingSessionAttendance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('timetable_entry_id', models.PositiveIntegerField(help_text='Foreign key to CourseSchedule in Academic module')),
                ('session_date', models.DateField()),
                ('scheduled_start_time', models.TimeField()),
                ('scheduled_end_time', models.TimeField()),
                ('actual_start_time', models.TimeField(blank=True, null=True)),
                ('actual_end_time', models.TimeField(blank=True, null=True)),
                ('teaching_hours', models.DecimalField(decimal_places=2, default=0, max_digits=4)),
                ('students_present_count', models.PositiveIntegerField(default=0)),
                ('attendance_marked', models.BooleanField(default=False)),
                ('status', models.CharField(choices=[('conducted', 'Conducted'), ('cancelled', 'Cancelled'), ('rescheduled', 'Rescheduled'), ('absent', 'Lecturer Absent')], max_length=20)),
                ('cancellation_reason', models.TextField(blank=True)),
                ('notes', models.TextField(blank=True)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_teaching_sessions', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='teaching_sessions', to='workforce.employee')),
                ('substitute_lecturer', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='substitute_sessions', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_teaching_session_attendance',
                'ordering': ['-session_date', '-scheduled_start_time'],
            },
        ),
        migrations.CreateModel(
            name='TeachingTimetable',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('course_id', models.PositiveIntegerField(help_text='Foreign key to Course in Academic module')),
                ('class_id', models.PositiveIntegerField(help_text='Foreign key to Class in Academic module')),
                ('academic_term_id', models.PositiveIntegerField(help_text='Foreign key to Academic Term')),
                ('room_id', models.PositiveIntegerField(blank=True, help_text='Foreign key to ClassRoom', null=True)),
                ('day_of_week', models.CharField(choices=[('monday', 'Monday'), ('tuesday', 'Tuesday'), ('wednesday', 'Wednesday'), ('thursday', 'Thursday'), ('friday', 'Friday'), ('saturday', 'Saturday'), ('sunday', 'Sunday')], max_length=10)),
                ('start_time', models.TimeField()),
                ('end_time', models.TimeField()),
                ('duration_hours', models.DecimalField(decimal_places=2, max_digits=4)),
                ('session_type', models.CharField(choices=[('lecture', 'Lecture'), ('tutorial', 'Tutorial'), ('lab', 'Laboratory'), ('practical', 'Practical'), ('seminar', 'Seminar')], max_length=20)),
                ('is_recurring', models.BooleanField(default=True, help_text='Weekly throughout term')),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('active', 'Active'), ('cancelled', 'Cancelled'), ('completed', 'Completed')], default='active', max_length=20)),
                ('campus', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.campus')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='teaching_timetable', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_teaching_timetable',
                'ordering': ['day_of_week', 'start_time'],
            },
        ),
        migrations.CreateModel(
            name='TemplateMetricMapping',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('target_value', models.CharField(blank=True, max_length=100)),
                ('weight_percentage', models.DecimalField(decimal_places=2, max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('is_mandatory', models.BooleanField(default=True)),
                ('evaluation_criteria', models.TextField(help_text='How to measure this metric')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('metric', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='workforce.performancemetric')),
                ('template', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='metric_mappings', to='workforce.performanceindicatortemplate')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_template_metric_mapping',
            },
        ),
        migrations.CreateModel(
            name='TimetableSubstitution',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('substitution_date', models.DateField()),
                ('reason', models.TextField()),
                ('substitution_type', models.CharField(choices=[('one_time', 'One-Time'), ('temporary_period', 'Temporary Period'), ('permanent', 'Permanent')], max_length=20)),
                ('compensation_type', models.CharField(choices=[('paid', 'Paid'), ('reciprocal', 'Reciprocal'), ('goodwill', 'Goodwill')], max_length=20)),
                ('compensation_amount', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('payroll_period_id', models.PositiveIntegerField(blank=True, help_text='Link to payroll period for payment', null=True)),
                ('notes', models.TextField(blank=True)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_substitutions', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('original_lecturer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='substitutions_as_original', to='workforce.employee')),
                ('original_timetable', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='substitutions', to='workforce.teachingtimetable')),
                ('substitute_lecturer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='substitutions_as_substitute', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_timetable_substitution',
                'ordering': ['-substitution_date'],
            },
        ),
        migrations.CreateModel(
            name='Village',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=100)),
                ('subcounty', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='villages', to='workforce.subcounty')),
            ],
            options={
                'db_table': 'hr_village',
                'ordering': ['subcounty', 'name'],
            },
        ),
        migrations.AddField(
            model_name='employeeaddress',
            name='village',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, to='workforce.village'),
        ),
        migrations.CreateModel(
            name='WorkSchedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('name', models.CharField(max_length=200)),
                ('schedule_type', models.CharField(choices=[('fixed', 'Fixed Schedule'), ('flexible', 'Flexible Schedule'), ('shift', 'Shift-Based'), ('teaching_timetable', 'Teaching Timetable')], max_length=20)),
                ('monday_start', models.TimeField(blank=True, null=True)),
                ('monday_end', models.TimeField(blank=True, null=True)),
                ('tuesday_start', models.TimeField(blank=True, null=True)),
                ('tuesday_end', models.TimeField(blank=True, null=True)),
                ('wednesday_start', models.TimeField(blank=True, null=True)),
                ('wednesday_end', models.TimeField(blank=True, null=True)),
                ('thursday_start', models.TimeField(blank=True, null=True)),
                ('thursday_end', models.TimeField(blank=True, null=True)),
                ('friday_start', models.TimeField(blank=True, null=True)),
                ('friday_end', models.TimeField(blank=True, null=True)),
                ('saturday_start', models.TimeField(blank=True, null=True)),
                ('saturday_end', models.TimeField(blank=True, null=True)),
                ('sunday_start', models.TimeField(blank=True, null=True)),
                ('sunday_end', models.TimeField(blank=True, null=True)),
                ('break_duration_minutes', models.PositiveIntegerField(default=60)),
                ('is_active', models.BooleanField(default=True)),
                ('attendance_policy', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.attendancepolicy')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'hr_work_schedule',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='EmployeeWorkSchedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('effective_from', models.DateField()),
                ('effective_to', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='work_schedules', to='workforce.employee')),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('work_schedule', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.workschedule')),
            ],
            options={
                'db_table': 'hr_employee_work_schedule',
                'ordering': ['-effective_from'],
            },
        ),
        migrations.CreateModel(
            name='AttendanceRecord',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('attendance_date', models.DateField()),
                ('check_in_time', models.TimeField(blank=True, null=True)),
                ('check_in_method', models.CharField(blank=True, choices=[('biometric', 'Biometric'), ('manual', 'Manual Entry'), ('mobile', 'Mobile App'), ('system', 'System Generated')], max_length=20, null=True)),
                ('check_in_location', models.CharField(blank=True, max_length=255)),
                ('check_out_time', models.TimeField(blank=True, null=True)),
                ('check_out_method', models.CharField(blank=True, choices=[('biometric', 'Biometric'), ('manual', 'Manual Entry'), ('mobile', 'Mobile App'), ('system', 'System Generated')], max_length=20, null=True)),
                ('check_out_location', models.CharField(blank=True, max_length=255)),
                ('total_hours', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('regular_hours', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('overtime_hours', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('night_hours', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('weekend_hours', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('status', models.CharField(choices=[('present', 'Present'), ('absent', 'Absent'), ('late', 'Late'), ('half_day', 'Half Day'), ('on_leave', 'On Leave'), ('holiday', 'Holiday'), ('weekend', 'Weekend')], max_length=20)),
                ('late_by_minutes', models.PositiveIntegerField(default=0)),
                ('early_departure_minutes', models.PositiveIntegerField(default=0)),
                ('notes', models.TextField(blank=True)),
                ('approval_status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='pending', max_length=20)),
                ('approved_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_attendance', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('check_in_device', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='check_ins', to='workforce.biometricdevice')),
                ('check_out_device', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='check_outs', to='workforce.biometricdevice')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='attendance_records', to='workforce.employee')),
                ('work_schedule', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='workforce.workschedule')),
            ],
            options={
                'db_table': 'hr_attendance_record',
                'ordering': ['-attendance_date'],
            },
        ),
        migrations.CreateModel(
            name='AttendanceException',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('exception_date', models.DateField()),
                ('exception_type', models.CharField(choices=[('late_arrival', 'Late Arrival'), ('early_departure', 'Early Departure'), ('missing_checkout', 'Missing Check-out'), ('absent', 'Absent')], max_length=20)),
                ('reason', models.TextField()),
                ('supporting_document', models.FileField(blank=True, upload_to='attendance_exceptions/')),
                ('reported_by', models.CharField(max_length=50)),
                ('review_status', models.CharField(choices=[('pending', 'Pending Review'), ('accepted', 'Accepted'), ('rejected', 'Rejected')], default='pending', max_length=20)),
                ('review_notes', models.TextField(blank=True)),
                ('payroll_impact', models.CharField(choices=[('none', 'No Impact'), ('deduction', 'Salary Deduction'), ('warning', 'Warning Only')], default='none', max_length=20)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('reviewed_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reviewed_exceptions', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='attendance_exceptions', to='workforce.employee')),
            ],
            options={
                'db_table': 'hr_attendance_exception',
                'ordering': ['-exception_date'],
                'indexes': [models.Index(fields=['employee', 'exception_date'], name='hr_attendan_employe_a05f85_idx'), models.Index(fields=['review_status'], name='hr_attendan_review__df9999_idx')],
            },
        ),
        migrations.CreateModel(
            name='AcademicProductivity',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('academic_year', models.PositiveIntegerField()),
                ('publications_count', models.PositiveIntegerField(default=0)),
                ('journal_articles_count', models.PositiveIntegerField(default=0)),
                ('conference_papers_count', models.PositiveIntegerField(default=0)),
                ('books_authored', models.PositiveIntegerField(default=0)),
                ('book_chapters', models.PositiveIntegerField(default=0)),
                ('research_grants_value', models.DecimalField(decimal_places=2, default=0, max_digits=15)),
                ('phd_students_supervised', models.PositiveIntegerField(default=0)),
                ('masters_students_supervised', models.PositiveIntegerField(default=0)),
                ('projects_completed', models.PositiveIntegerField(default=0)),
                ('community_service_hours', models.DecimalField(decimal_places=2, default=0, max_digits=6)),
                ('professional_memberships', models.PositiveIntegerField(default=0)),
                ('patents_filed', models.PositiveIntegerField(default=0)),
                ('last_updated', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='academic_productivity', to='workforce.employee')),
            ],
            options={
                'verbose_name_plural': 'Academic Productivity',
                'db_table': 'hr_academic_productivity',
                'ordering': ['-academic_year', 'employee'],
                'unique_together': {('employee', 'academic_year')},
            },
        ),
        migrations.AddIndex(
            model_name='employee',
            index=models.Index(fields=['employee_no'], name='hr_employee_employe_3b1fdc_idx'),
        ),
        migrations.AddIndex(
            model_name='employee',
            index=models.Index(fields=['employment_status'], name='hr_employee_employm_683961_idx'),
        ),
        migrations.AddIndex(
            model_name='employee',
            index=models.Index(fields=['employee_category'], name='hr_employee_employe_c31964_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='jobdescription',
            unique_together={('job_title', 'version')},
        ),
        migrations.AddIndex(
            model_name='employeejobassignment',
            index=models.Index(fields=['employee', 'is_primary_assignment'], name='hr_employee_employe_dce822_idx'),
        ),
        migrations.AddIndex(
            model_name='employeejobassignment',
            index=models.Index(fields=['effective_from', 'effective_to'], name='hr_employee_effecti_255d78_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='leaveapprovalworkflow',
            unique_together={('leave_application', 'approval_level')},
        ),
        migrations.AddIndex(
            model_name='leaveblackoutperiod',
            index=models.Index(fields=['start_date', 'end_date'], name='hr_leave_bl_start_d_98a091_idx'),
        ),
        migrations.AddIndex(
            model_name='leaveblackoutperiod',
            index=models.Index(fields=['is_active'], name='hr_leave_bl_is_acti_288b5b_idx'),
        ),
        migrations.AddIndex(
            model_name='leavecalendar',
            index=models.Index(fields=['date'], name='hr_leave_ca_date_0816ea_idx'),
        ),
        migrations.AddIndex(
            model_name='leavecalendar',
            index=models.Index(fields=['country', 'date'], name='hr_leave_ca_country_f44890_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='leavecalendar',
            unique_together={('date', 'country')},
        ),
        migrations.AlterUniqueTogether(
            name='leavepolicybycategory',
            unique_together={('leave_type', 'employee_category', 'job_grade')},
        ),
        migrations.AddIndex(
            model_name='leaveencashment',
            index=models.Index(fields=['employee', 'year'], name='hr_leave_en_employe_6539d4_idx'),
        ),
        migrations.AddIndex(
            model_name='leaveencashment',
            index=models.Index(fields=['payment_status'], name='hr_leave_en_payment_6f83d1_idx'),
        ),
        migrations.AddIndex(
            model_name='leaveapplication',
            index=models.Index(fields=['employee', 'status'], name='hr_leave_ap_employe_0b71c9_idx'),
        ),
        migrations.AddIndex(
            model_name='leaveapplication',
            index=models.Index(fields=['start_date', 'end_date'], name='hr_leave_ap_start_d_f4d129_idx'),
        ),
        migrations.AddIndex(
            model_name='leaveapplication',
            index=models.Index(fields=['status'], name='hr_leave_ap_status_81aec6_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeleavebalance',
            index=models.Index(fields=['employee', 'year'], name='hr_employee_employe_dc7ab1_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeleavebalance',
            index=models.Index(fields=['leave_type', 'year'], name='hr_employee_leave_t_b6faa2_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='employeeleavebalance',
            unique_together={('employee', 'leave_type', 'year')},
        ),
        migrations.AddIndex(
            model_name='overtimerequest',
            index=models.Index(fields=['employee', 'overtime_date'], name='hr_overtime_employe_419914_idx'),
        ),
        migrations.AddIndex(
            model_name='overtimerequest',
            index=models.Index(fields=['approval_status'], name='hr_overtime_approva_6cfe22_idx'),
        ),
        migrations.AddIndex(
            model_name='employeepayprofile',
            index=models.Index(fields=['employee', 'is_active'], name='payroll_emp_employe_819ab1_idx'),
        ),
        migrations.AddIndex(
            model_name='employeepayprofile',
            index=models.Index(fields=['effective_from', 'effective_to'], name='payroll_emp_effecti_5fd309_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='payprofilecomponent',
            unique_together={('pay_profile', 'earning_type')},
        ),
        migrations.AddIndex(
            model_name='payrollperiod',
            index=models.Index(fields=['start_date', 'end_date'], name='payroll_per_start_d_d7c192_idx'),
        ),
        migrations.AddIndex(
            model_name='payrollperiod',
            index=models.Index(fields=['status'], name='payroll_per_status_cbb4e8_idx'),
        ),
        migrations.AddIndex(
            model_name='payrollcalculation',
            index=models.Index(fields=['employee', 'payroll_period'], name='payroll_cal_employe_932ca9_idx'),
        ),
        migrations.AddIndex(
            model_name='payrollcalculation',
            index=models.Index(fields=['payroll_period', 'payment_status'], name='payroll_cal_payroll_d10005_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='payrollcalculation',
            unique_together={('employee', 'payroll_period')},
        ),
        migrations.AddIndex(
            model_name='payrollauditlog',
            index=models.Index(fields=['payroll_period', 'performed_at'], name='payroll_aud_payroll_467366_idx'),
        ),
        migrations.AddIndex(
            model_name='payrollauditlog',
            index=models.Index(fields=['employee', 'action'], name='payroll_aud_employe_55aaa3_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeearning',
            index=models.Index(fields=['employee', 'payroll_period'], name='payroll_emp_employe_977ce9_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeearning',
            index=models.Index(fields=['status'], name='payroll_emp_status_d9308b_idx'),
        ),
        migrations.AddIndex(
            model_name='employeededuction',
            index=models.Index(fields=['employee', 'payroll_period'], name='payroll_emp_employe_12d0d1_idx'),
        ),
        migrations.AddIndex(
            model_name='employeededuction',
            index=models.Index(fields=['status'], name='payroll_emp_status_3b1e63_idx'),
        ),
        migrations.AddIndex(
            model_name='payslip',
            index=models.Index(fields=['employee', 'payroll_period'], name='payroll_pay_employe_09e498_idx'),
        ),
        migrations.AddIndex(
            model_name='payslip',
            index=models.Index(fields=['payslip_number'], name='payroll_pay_payslip_7dfc92_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeappraisal',
            index=models.Index(fields=['employee', 'appraisal_cycle'], name='hr_employee_employe_f02cd1_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeappraisal',
            index=models.Index(fields=['status'], name='hr_employee_status_2a4c5f_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='appraisalmetricscore',
            unique_together={('appraisal', 'metric')},
        ),
        migrations.AddIndex(
            model_name='publication',
            index=models.Index(fields=['employee', 'publication_date'], name='hr_publicat_employe_3a3ac9_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeshiftassignment',
            index=models.Index(fields=['employee', 'assignment_date'], name='hr_employee_employe_43fb5d_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeshiftassignment',
            index=models.Index(fields=['assignment_date', 'status'], name='hr_employee_assignm_08a96c_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='studentfeedback',
            unique_together={('employee', 'course_id', 'academic_term_id')},
        ),
        migrations.AlterUniqueTogether(
            name='teachingloadsummary',
            unique_together={('employee', 'academic_term_id')},
        ),
        migrations.AddIndex(
            model_name='teachingsessionattendance',
            index=models.Index(fields=['employee', 'session_date'], name='hr_teaching_employe_5960ed_idx'),
        ),
        migrations.AddIndex(
            model_name='teachingsessionattendance',
            index=models.Index(fields=['session_date', 'status'], name='hr_teaching_session_1ebf5a_idx'),
        ),
        migrations.AddIndex(
            model_name='teachingtimetable',
            index=models.Index(fields=['employee', 'academic_term_id'], name='hr_teaching_employe_a0fce7_idx'),
        ),
        migrations.AddIndex(
            model_name='teachingtimetable',
            index=models.Index(fields=['day_of_week', 'start_time'], name='hr_teaching_day_of__666a8e_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='templatemetricmapping',
            unique_together={('template', 'metric')},
        ),
        migrations.AddIndex(
            model_name='timetablesubstitution',
            index=models.Index(fields=['substitute_lecturer', 'substitution_date'], name='hr_timetabl_substit_d9cff6_idx'),
        ),
        migrations.AddIndex(
            model_name='timetablesubstitution',
            index=models.Index(fields=['substitution_date'], name='hr_timetabl_substit_de0ebe_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeaddress',
            index=models.Index(fields=['employee', 'address_type'], name='hr_employee_employe_a87411_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeaddress',
            index=models.Index(fields=['is_primary'], name='hr_employee_is_prim_f11e0d_idx'),
        ),
        migrations.AddIndex(
            model_name='employeeworkschedule',
            index=models.Index(fields=['employee', 'is_active'], name='hr_employee_employe_8698e7_idx'),
        ),
        migrations.AddIndex(
            model_name='attendancerecord',
            index=models.Index(fields=['employee', 'attendance_date'], name='hr_attendan_employe_eb7c8a_idx'),
        ),
        migrations.AddIndex(
            model_name='attendancerecord',
            index=models.Index(fields=['attendance_date', 'status'], name='hr_attendan_attenda_d610a4_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='attendancerecord',
            unique_together={('employee', 'attendance_date')},
        ),
    ]
